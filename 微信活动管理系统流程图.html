<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¾®ä¿¡æ´»åŠ¨ç®¡ç†ç³»ç»Ÿä¸šåŠ¡æµç¨‹å›¾ - å¯äº¤äº’ç‰ˆæœ¬</title> - ä¸šåŠ¡æµç¨‹å›¾</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .flow-container {
            padding: 40px;
            background: #fafbfc;
        }

        .flow-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 2px solid #e9ecef;
        }

        .flow-tab {
            padding: 12px 24px;
            background: none;
            border: none;
            font-size: 16px;
            font-weight: 500;
            color: #6c757d;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .flow-tab.active {
            color: #4a90e2;
            border-bottom-color: #4a90e2;
        }

        .flow-tab:hover {
            color: #4a90e2;
        }

        .flow-content {
            display: none;
        }

        .flow-content.active {
            display: block;
        }

        .flow-svg {
            width: 100%;
            height: auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .flow-node {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .flow-node:hover .node-rect {
            stroke-width: 3;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
        }

        .flow-node.active .node-rect {
            stroke: #4a90e2;
            stroke-width: 4;
        }

        .flow-arrow {
            stroke: #6c757d;
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
            transition: all 0.3s ease;
        }

        .flow-arrow.active {
            stroke: #4a90e2;
            stroke-width: 3;
        }

        .decision-diamond {
            fill: #ffc107;
            stroke: #ff9800;
            stroke-width: 2;
        }

        .process-rect {
            fill: #28a745;
            stroke: #20c997;
            stroke-width: 2;
        }

        .start-end-ellipse {
            fill: #6f42c1;
            stroke: #6610f2;
            stroke-width: 2;
        }

        .data-rect {
            fill: #17a2b8;
            stroke: #138496;
            stroke-width: 2;
        }

        .flow-text {
            fill: white;
            font-size: 12px;
            font-weight: 500;
            text-anchor: middle;
            dominant-baseline: middle;
        }

        .flow-label {
            fill: #495057;
            font-size: 11px;
            text-anchor: middle;
        }

        .controls {
            text-align: center;
            margin: 30px 0;
        }

        .btn {
            background: #4a90e2;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: #357abd;
            transform: translateY(-2px);
        }

        .btn.secondary {
            background: #6c757d;
        }

        .btn.secondary:hover {
            background: #5a6268;
        }

        .flow-description {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .flow-description h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .flow-description p {
            color: #6c757d;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .flow-steps {
            list-style: none;
        }

        .flow-steps li {
            padding: 8px 0;
            border-left: 3px solid #4a90e2;
            padding-left: 15px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border-radius: 0 8px 8px 0;
        }

        .flow-steps li strong {
            color: #2c3e50;
        }

        .legend {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .legend-title {
            font-size: 16px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .legend-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 14px;
            color: #5a6c7d;
        }

        .legend-shape {
            width: 30px;
            height: 20px;
            margin-right: 10px;
            border-radius: 4px;
        }

        .tooltip {
            position: absolute;
            background: #2c3e50;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .tooltip.show {
            opacity: 1;
        }

        .tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: #2c3e50;
        }

        @media (max-width: 768px) {
            .flow-container {
                padding: 20px;
            }
            
            .flow-tabs {
                flex-wrap: wrap;
            }
            
            .flow-tab {
                flex: 1;
                min-width: 120px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>å¾®ä¿¡æ´»åŠ¨ç®¡ç†ç³»ç»Ÿä¸šåŠ¡æµç¨‹å›¾</h1>
            <p>åŸºäºHTML+SVGçš„äº¤äº’å¼ä¸šåŠ¡æµç¨‹è®¾è®¡ | ç‚¹å‡»èŠ‚ç‚¹æŸ¥çœ‹è¯¦ç»†è¯´æ˜</p>
        </div>

        <div class="flow-container">
            <!-- æµç¨‹æ ‡ç­¾é¡µ -->
            <div class="flow-tabs">
                <button class="flow-tab active" onclick="showFlow('create')">æ´»åŠ¨åˆ›å»ºæµç¨‹</button>
                <button class="flow-tab" onclick="showFlow('query')">æ´»åŠ¨æŸ¥è¯¢æµç¨‹</button>
                <button class="flow-tab" onclick="showFlow('manage')">æ´»åŠ¨ç®¡ç†æµç¨‹</button>
                <button class="flow-tab" onclick="showFlow('batch')">æ‰¹é‡æ“ä½œæµç¨‹</button>
            </div>

            <!-- æ§åˆ¶æŒ‰é’® -->
            <div class="controls">
                <button class="btn" onclick="animateFlow()">æ¼”ç¤ºæµç¨‹</button>
                <button class="btn secondary" onclick="resetFlow()">é‡ç½®çŠ¶æ€</button>
                <button class="btn" onclick="highlightCriticalPath()">å…³é”®è·¯å¾„</button>
            </div>

            <!-- æ´»åŠ¨åˆ›å»ºæµç¨‹ -->
            <div class="flow-content active" id="create-flow">
                <svg class="flow-svg" viewBox="0 0 1200 800">
                    <!-- å®šä¹‰ç®­å¤´æ ‡è®° -->
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#6c757d" />
                        </marker>
                        <marker id="arrowhead-active" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#4a90e2" />
                        </marker>
                    </defs>

                    <!-- å¼€å§‹èŠ‚ç‚¹ -->
                    <g class="flow-node" data-step="start" onclick="highlightNode(this)">
                        <ellipse cx="100" cy="80" rx="60" ry="30" class="start-end-ellipse node-rect"/>
                        <text x="100" y="80" class="flow-text">å¼€å§‹</text>
                    </g>

                    <!-- ç”¨æˆ·ç™»å½•éªŒè¯ -->
                    <g class="flow-node" data-step="login" onclick="highlightNode(this)">
                        <rect x="50" y="150" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="100" y="175" class="flow-text">ç”¨æˆ·ç™»å½•éªŒè¯</text>
                    </g>

                    <!-- æƒé™æ£€æŸ¥ -->
                    <g class="flow-node" data-step="permission" onclick="highlightNode(this)">
                        <polygon points="100,250 150,275 100,300 50,275" class="decision-diamond node-rect"/>
                        <text x="100" y="275" class="flow-text">æƒé™æ£€æŸ¥</text>
                    </g>

                    <!-- æ— æƒé™æç¤º -->
                    <g class="flow-node" data-step="no-permission" onclick="highlightNode(this)">
                        <rect x="200" y="250" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="250" y="275" class="flow-text">æ— æƒé™æç¤º</text>
                    </g>

                    <!-- æ‰“å¼€æ–°å¢å¼¹çª— -->
                    <g class="flow-node" data-step="open-modal" onclick="highlightNode(this)">
                        <rect x="50" y="350" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="100" y="375" class="flow-text">æ‰“å¼€æ–°å¢å¼¹çª—</text>
                    </g>

                    <!-- å¡«å†™æ´»åŠ¨ä¿¡æ¯ -->
                    <g class="flow-node" data-step="fill-form" onclick="highlightNode(this)">
                        <rect x="200" y="350" width="100" height="50" rx="8" class="data-rect node-rect"/>
                        <text x="250" y="375" class="flow-text">å¡«å†™æ´»åŠ¨ä¿¡æ¯</text>
                    </g>

                    <!-- è¡¨å•éªŒè¯ -->
                    <g class="flow-node" data-step="validate" onclick="highlightNode(this)">
                        <polygon points="250,450 300,475 250,500 200,475" class="decision-diamond node-rect"/>
                        <text x="250" y="475" class="flow-text">è¡¨å•éªŒè¯</text>
                    </g>

                    <!-- éªŒè¯å¤±è´¥ -->
                    <g class="flow-node" data-step="validate-fail" onclick="highlightNode(this)">
                        <rect x="350" y="450" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="400" y="475" class="flow-text">æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯</text>
                    </g>

                    <!-- æäº¤æ•°æ® -->
                    <g class="flow-node" data-step="submit" onclick="highlightNode(this)">
                        <rect x="200" y="550" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="250" y="575" class="flow-text">æäº¤æ•°æ®</text>
                    </g>

                    <!-- APIè°ƒç”¨ -->
                    <g class="flow-node" data-step="api-call" onclick="highlightNode(this)">
                        <rect x="350" y="550" width="100" height="50" rx="8" class="data-rect node-rect"/>
                        <text x="400" y="575" class="flow-text">APIè°ƒç”¨</text>
                    </g>

                    <!-- ä¿å­˜ç»“æœåˆ¤æ–­ -->
                    <g class="flow-node" data-step="save-result" onclick="highlightNode(this)">
                        <polygon points="400,650 450,675 400,700 350,675" class="decision-diamond node-rect"/>
                        <text x="400" y="675" class="flow-text">ä¿å­˜æˆåŠŸ?</text>
                    </g>

                    <!-- ä¿å­˜å¤±è´¥ -->
                    <g class="flow-node" data-step="save-fail" onclick="highlightNode(this)">
                        <rect x="500" y="650" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="550" y="675" class="flow-text">ä¿å­˜å¤±è´¥æç¤º</text>
                    </g>

                    <!-- æˆåŠŸæç¤º -->
                    <g class="flow-node" data-step="success" onclick="highlightNode(this)">
                        <rect x="350" y="750" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="400" y="775" class="flow-text">æˆåŠŸæç¤º</text>
                    </g>

                    <!-- åˆ·æ–°åˆ—è¡¨ -->
                    <g class="flow-node" data-step="refresh" onclick="highlightNode(this)">
                        <rect x="500" y="750" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="550" y="775" class="flow-text">åˆ·æ–°åˆ—è¡¨</text>
                    </g>

                    <!-- ç»“æŸèŠ‚ç‚¹ -->
                    <g class="flow-node" data-step="end" onclick="highlightNode(this)">
                        <ellipse cx="650" cy="775" rx="60" ry="30" class="start-end-ellipse node-rect"/>
                        <text x="650" y="775" class="flow-text">ç»“æŸ</text>
                    </g>

                    <!-- è¿æ¥çº¿ -->
                    <path class="flow-arrow" d="M100 110 L100 150" data-from="start" data-to="login"/>
                    <path class="flow-arrow" d="M100 200 L100 250" data-from="login" data-to="permission"/>
                    <path class="flow-arrow" d="M150 275 L200 275" data-from="permission" data-to="no-permission"/>
                    <path class="flow-arrow" d="M100 300 L100 350" data-from="permission" data-to="open-modal"/>
                    <path class="flow-arrow" d="M150 375 L200 375" data-from="open-modal" data-to="fill-form"/>
                    <path class="flow-arrow" d="M250 400 L250 450" data-from="fill-form" data-to="validate"/>
                    <path class="flow-arrow" d="M300 475 L350 475" data-from="validate" data-to="validate-fail"/>
                    <path class="flow-arrow" d="M250 500 L250 550" data-from="validate" data-to="submit"/>
                    <path class="flow-arrow" d="M300 575 L350 575" data-from="submit" data-to="api-call"/>
                    <path class="flow-arrow" d="M400 600 L400 650" data-from="api-call" data-to="save-result"/>
                    <path class="flow-arrow" d="M450 675 L500 675" data-from="save-result" data-to="save-fail"/>
                    <path class="flow-arrow" d="M400 700 L400 750" data-from="save-result" data-to="success"/>
                    <path class="flow-arrow" d="M450 775 L500 775" data-from="success" data-to="refresh"/>
                    <path class="flow-arrow" d="M600 775 L590 775" data-from="refresh" data-to="end"/>
                    
                    <!-- è¿”å›å¾ªç¯çº¿ -->
                    <path class="flow-arrow" d="M400 450 Q 480 400 300 375" data-from="validate-fail" data-to="fill-form" stroke-dasharray="5,5"/>
                    <path class="flow-arrow" d="M550 650 Q 580 600 250 550" data-from="save-fail" data-to="submit" stroke-dasharray="5,5"/>
                    <path class="flow-arrow" d="M300 275 Q 350 200 100 200" data-from="no-permission" data-to="login" stroke-dasharray="5,5"/>

                    <!-- æµç¨‹æ ‡ç­¾ -->
                    <text x="175" y="265" class="flow-label">æ— æƒé™</text>
                    <text x="75" y="315" class="flow-label">æœ‰æƒé™</text>
                    <text x="325" y="465" class="flow-label">éªŒè¯å¤±è´¥</text>
                    <text x="225" y="515" class="flow-label">éªŒè¯é€šè¿‡</text>
                    <text x="475" y="665" class="flow-label">å¤±è´¥</text>
                    <text x="375" y="715" class="flow-label">æˆåŠŸ</text>
                </svg>

                <div class="flow-description">
                    <h3>ğŸ¯ æ´»åŠ¨åˆ›å»ºæµç¨‹è¯´æ˜</h3>
                    <p>è¯¥æµç¨‹å±•ç¤ºäº†ç”¨æˆ·åˆ›å»ºæ–°æ´»åŠ¨çš„å®Œæ•´ä¸šåŠ¡æµç¨‹ï¼ŒåŒ…å«æƒé™éªŒè¯ã€è¡¨å•å¡«å†™ã€æ•°æ®éªŒè¯å’Œä¿å­˜ç­‰å…³é”®æ­¥éª¤ã€‚</p>
                    <ol class="flow-steps">
                        <li><strong>ç”¨æˆ·ç™»å½•éªŒè¯ï¼š</strong>ç¡®ä¿ç”¨æˆ·èº«ä»½åˆæ³•æ€§</li>
                        <li><strong>æƒé™æ£€æŸ¥ï¼š</strong>éªŒè¯ç”¨æˆ·æ˜¯å¦æœ‰åˆ›å»ºæ´»åŠ¨çš„æƒé™</li>
                        <li><strong>æ‰“å¼€æ–°å¢å¼¹çª—ï¼š</strong>å±•ç¤ºæ´»åŠ¨åˆ›å»ºè¡¨å•</li>
                        <li><strong>å¡«å†™æ´»åŠ¨ä¿¡æ¯ï¼š</strong>ç”¨æˆ·è¾“å…¥æ´»åŠ¨ç›¸å…³æ•°æ®</li>
                        <li><strong>è¡¨å•éªŒè¯ï¼š</strong>å‰ç«¯éªŒè¯æ•°æ®æ ¼å¼å’Œä¸šåŠ¡è§„åˆ™</li>
                        <li><strong>æäº¤æ•°æ®ï¼š</strong>å°†éªŒè¯é€šè¿‡çš„æ•°æ®æäº¤åˆ°åç«¯</li>
                        <li><strong>APIè°ƒç”¨ï¼š</strong>åç«¯å¤„ç†æ•°æ®å¹¶ä¿å­˜åˆ°æ•°æ®åº“</li>
                        <li><strong>ç»“æœå¤„ç†ï¼š</strong>æ ¹æ®ä¿å­˜ç»“æœç»™ç”¨æˆ·ç›¸åº”æç¤º</li>
                    </ol>
                </div>
            </div>

            <!-- æ´»åŠ¨æŸ¥è¯¢æµç¨‹ -->
            <div class="flow-content" id="query-flow">
                <svg class="flow-svg" viewBox="0 0 1200 600">
                    <!-- å¼€å§‹èŠ‚ç‚¹ -->
                    <g class="flow-node" data-step="query-start" onclick="highlightNode(this)">
                        <ellipse cx="100" cy="80" rx="60" ry="30" class="start-end-ellipse node-rect"/>
                        <text x="100" y="80" class="flow-text">å¼€å§‹æŸ¥è¯¢</text>
                    </g>

                    <!-- è¾“å…¥æŸ¥è¯¢æ¡ä»¶ -->
                    <g class="flow-node" data-step="input-conditions" onclick="highlightNode(this)">
                        <rect x="50" y="150" width="100" height="50" rx="8" class="data-rect node-rect"/>
                        <text x="100" y="175" class="flow-text">è¾“å…¥æŸ¥è¯¢æ¡ä»¶</text>
                    </g>

                    <!-- æ¡ä»¶éªŒè¯ -->
                    <g class="flow-node" data-step="condition-validate" onclick="highlightNode(this)">
                        <polygon points="100,250 150,275 100,300 50,275" class="decision-diamond node-rect"/>
                        <text x="100" y="275" class="flow-text">æ¡ä»¶éªŒè¯</text>
                    </g>

                    <!-- æ¡ä»¶é”™è¯¯ -->
                    <g class="flow-node" data-step="condition-error" onclick="highlightNode(this)">
                        <rect x="200" y="250" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="250" y="275" class="flow-text">æ¡ä»¶é”™è¯¯æç¤º</text>
                    </g>

                    <!-- æ„å»ºæŸ¥è¯¢å‚æ•° -->
                    <g class="flow-node" data-step="build-params" onclick="highlightNode(this)">
                        <rect x="50" y="350" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="100" y="375" class="flow-text">æ„å»ºæŸ¥è¯¢å‚æ•°</text>
                    </g>

                    <!-- å‘é€APIè¯·æ±‚ -->
                    <g class="flow-node" data-step="send-request" onclick="highlightNode(this)">
                        <rect x="200" y="350" width="100" height="50" rx="8" class="data-rect node-rect"/>
                        <text x="250" y="375" class="flow-text">å‘é€APIè¯·æ±‚</text>
                    </g>

                    <!-- æ£€æŸ¥ç¼“å­˜ -->
                    <g class="flow-node" data-step="check-cache" onclick="highlightNode(this)">
                        <polygon points="250,450 300,475 250,500 200,475" class="decision-diamond node-rect"/>
                        <text x="250" y="475" class="flow-text">æ£€æŸ¥ç¼“å­˜</text>
                    </g>

                    <!-- ä½¿ç”¨ç¼“å­˜æ•°æ® -->
                    <g class="flow-node" data-step="use-cache" onclick="highlightNode(this)">
                        <rect x="350" y="450" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="400" y="475" class="flow-text">ä½¿ç”¨ç¼“å­˜æ•°æ®</text>
                    </g>

                    <!-- è¯·æ±‚åç«¯æ•°æ® -->
                    <g class="flow-node" data-step="fetch-data" onclick="highlightNode(this)">
                        <rect x="200" y="550" width="100" height="50" rx="8" class="data-rect node-rect"/>
                        <text x="250" y="575" class="flow-text">è¯·æ±‚åç«¯æ•°æ®</text>
                    </g>

                    <!-- æ•°æ®å¤„ç† -->
                    <g class="flow-node" data-step="process-data" onclick="highlightNode(this)">
                        <rect x="350" y="550" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="400" y="575" class="flow-text">æ•°æ®å¤„ç†</text>
                    </g>

                    <!-- æ¸²æŸ“è¡¨æ ¼ -->
                    <g class="flow-node" data-step="render-table" onclick="highlightNode(this)">
                        <rect x="500" y="500" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="550" y="525" class="flow-text">æ¸²æŸ“è¡¨æ ¼</text>
                    </g>

                    <!-- æ›´æ–°åˆ†é¡µ -->
                    <g class="flow-node" data-step="update-pagination" onclick="highlightNode(this)">
                        <rect x="650" y="500" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="700" y="525" class="flow-text">æ›´æ–°åˆ†é¡µ</text>
                    </g>

                    <!-- ç»“æŸèŠ‚ç‚¹ -->
                    <g class="flow-node" data-step="query-end" onclick="highlightNode(this)">
                        <ellipse cx="800" cy="525" rx="60" ry="30" class="start-end-ellipse node-rect"/>
                        <text x="800" y="525" class="flow-text">æŸ¥è¯¢å®Œæˆ</text>
                    </g>

                    <!-- è¿æ¥çº¿ -->
                    <path class="flow-arrow" d="M100 110 L100 150"/>
                    <path class="flow-arrow" d="M100 200 L100 250"/>
                    <path class="flow-arrow" d="M150 275 L200 275"/>
                    <path class="flow-arrow" d="M100 300 L100 350"/>
                    <path class="flow-arrow" d="M150 375 L200 375"/>
                    <path class="flow-arrow" d="M250 400 L250 450"/>
                    <path class="flow-arrow" d="M300 475 L350 475"/>
                    <path class="flow-arrow" d="M250 500 L250 550"/>
                    <path class="flow-arrow" d="M300 575 L350 575"/>
                    <path class="flow-arrow" d="M450 525 L500 525"/>
                    <path class="flow-arrow" d="M600 525 L650 525"/>
                    <path class="flow-arrow" d="M750 525 L740 525"/>
                    
                    <!-- ç¼“å­˜è·¯å¾„ -->
                    <path class="flow-arrow" d="M400 500 Q 450 475 500 500" stroke-dasharray="3,3"/>
                    
                    <!-- è¿”å›å¾ªç¯çº¿ -->
                    <path class="flow-arrow" d="M250 250 Q 320 200 100 200" stroke-dasharray="5,5"/>

                    <!-- æµç¨‹æ ‡ç­¾ -->
                    <text x="175" y="265" class="flow-label">æ¡ä»¶é”™è¯¯</text>
                    <text x="75" y="315" class="flow-label">æ¡ä»¶æ­£ç¡®</text>
                    <text x="325" y="465" class="flow-label">æœ‰ç¼“å­˜</text>
                    <text x="225" y="515" class="flow-label">æ— ç¼“å­˜</text>
                </svg>

                <div class="flow-description">
                    <h3>ğŸ” æ´»åŠ¨æŸ¥è¯¢æµç¨‹è¯´æ˜</h3>
                    <p>è¯¥æµç¨‹å±•ç¤ºäº†ç”¨æˆ·æŸ¥è¯¢æ´»åŠ¨åˆ—è¡¨çš„å®Œæ•´è¿‡ç¨‹ï¼ŒåŒ…å«æ¡ä»¶éªŒè¯ã€ç¼“å­˜æ£€æŸ¥ã€æ•°æ®è·å–å’Œç•Œé¢æ¸²æŸ“ç­‰æ­¥éª¤ã€‚</p>
                    <ol class="flow-steps">
                        <li><strong>è¾“å…¥æŸ¥è¯¢æ¡ä»¶ï¼š</strong>ç”¨æˆ·åœ¨æŸ¥è¯¢è¡¨å•ä¸­è¾“å…¥ç­›é€‰æ¡ä»¶</li>
                        <li><strong>æ¡ä»¶éªŒè¯ï¼š</strong>éªŒè¯æŸ¥è¯¢æ¡ä»¶çš„æ ¼å¼å’Œæœ‰æ•ˆæ€§</li>
                        <li><strong>æ„å»ºæŸ¥è¯¢å‚æ•°ï¼š</strong>å°†ç”¨æˆ·è¾“å…¥è½¬æ¢ä¸ºAPIæŸ¥è¯¢å‚æ•°</li>
                        <li><strong>æ£€æŸ¥ç¼“å­˜ï¼š</strong>ä¼˜å…ˆæ£€æŸ¥æœ¬åœ°æ˜¯å¦æœ‰ç›¸åŒæ¡ä»¶çš„ç¼“å­˜æ•°æ®</li>
                        <li><strong>è·å–æ•°æ®ï¼š</strong>ä»ç¼“å­˜æˆ–åç«¯APIè·å–æ´»åŠ¨æ•°æ®</li>
                        <li><strong>æ•°æ®å¤„ç†ï¼š</strong>æ ¼å¼åŒ–å’Œå¤„ç†è¿”å›çš„æ•°æ®</li>
                        <li><strong>ç•Œé¢æ¸²æŸ“ï¼š</strong>æ›´æ–°è¡¨æ ¼å’Œåˆ†é¡µç»„ä»¶æ˜¾ç¤ºç»“æœ</li>
                    </ol>
                </div>
            </div>

            <!-- æ´»åŠ¨ç®¡ç†æµç¨‹ -->
            <div class="flow-content" id="manage-flow">
                <svg class="flow-svg" viewBox="0 0 1200 700">
                    <!-- é€‰æ‹©æ´»åŠ¨ -->
                    <g class="flow-node" data-step="select-activity" onclick="highlightNode(this)">
                        <ellipse cx="100" cy="80" rx="60" ry="30" class="start-end-ellipse node-rect"/>
                        <text x="100" y="80" class="flow-text">é€‰æ‹©æ´»åŠ¨</text>
                    </g>

                    <!-- æ“ä½œç±»å‹åˆ¤æ–­ -->
                    <g class="flow-node" data-step="operation-type" onclick="highlightNode(this)">
                        <polygon points="100,150 150,175 100,200 50,175" class="decision-diamond node-rect"/>
                        <text x="100" y="175" class="flow-text">æ“ä½œç±»å‹</text>
                    </g>

                    <!-- æŸ¥çœ‹è¯¦æƒ… -->
                    <g class="flow-node" data-step="view-detail" onclick="highlightNode(this)">
                        <rect x="50" y="250" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="100" y="275" class="flow-text">æŸ¥çœ‹è¯¦æƒ…</text>
                    </g>

                    <!-- ç¼–è¾‘æ´»åŠ¨ -->
                    <g class="flow-node" data-step="edit-activity" onclick="highlightNode(this)">
                        <rect x="200" y="250" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="250" y="275" class="flow-text">ç¼–è¾‘æ´»åŠ¨</text>
                    </g>

                    <!-- ç»ˆæ­¢æ´»åŠ¨ -->
                    <g class="flow-node" data-step="terminate-activity" onclick="highlightNode(this)">
                        <rect x="350" y="250" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="400" y="275" class="flow-text">ç»ˆæ­¢æ´»åŠ¨</text>
                    </g>

                    <!-- çŠ¶æ€æ£€æŸ¥ -->
                    <g class="flow-node" data-step="status-check" onclick="highlightNode(this)">
                        <polygon points="250,350 300,375 250,400 200,375" class="decision-diamond node-rect"/>
                        <text x="250" y="375" class="flow-text">çŠ¶æ€æ£€æŸ¥</text>
                    </g>

                    <!-- äºŒæ¬¡ç¡®è®¤ -->
                    <g class="flow-node" data-step="confirm-dialog" onclick="highlightNode(this)">
                        <polygon points="400,350 450,375 400,400 350,375" class="decision-diamond node-rect"/>
                        <text x="400" y="375" class="flow-text">äºŒæ¬¡ç¡®è®¤</text>
                    </g>

                    <!-- çŠ¶æ€é”™è¯¯ -->
                    <g class="flow-node" data-step="status-error" onclick="highlightNode(this)">
                        <rect x="150" y="450" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="200" y="475" class="flow-text">çŠ¶æ€é”™è¯¯æç¤º</text>
                    </g>

                    <!-- å–æ¶ˆæ“ä½œ -->
                    <g class="flow-node" data-step="cancel-operation" onclick="highlightNode(this)">
                        <rect x="500" y="350" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="550" y="375" class="flow-text">å–æ¶ˆæ“ä½œ</text>
                    </g>

                    <!-- æ‰§è¡Œæ“ä½œ -->
                    <g class="flow-node" data-step="execute-operation" onclick="highlightNode(this)">
                        <rect x="350" y="450" width="100" height="50" rx="8" class="data-rect node-rect"/>
                        <text x="400" y="475" class="flow-text">æ‰§è¡Œæ“ä½œ</text>
                    </g>

                    <!-- æ“ä½œç»“æœ -->
                    <g class="flow-node" data-step="operation-result" onclick="highlightNode(this)">
                        <polygon points="400,550 450,575 400,600 350,575" class="decision-diamond node-rect"/>
                        <text x="400" y="575" class="flow-text">æ“ä½œç»“æœ</text>
                    </g>

                    <!-- æ“ä½œå¤±è´¥ -->
                    <g class="flow-node" data-step="operation-fail" onclick="highlightNode(this)">
                        <rect x="500" y="550" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="550" y="575" class="flow-text">æ“ä½œå¤±è´¥æç¤º</text>
                    </g>

                    <!-- æ›´æ–°ç•Œé¢ -->
                    <g class="flow-node" data-step="update-ui" onclick="highlightNode(this)">
                        <rect x="350" y="650" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="400" y="675" class="flow-text">æ›´æ–°ç•Œé¢</text>
                    </g>

                    <!-- ç»“æŸèŠ‚ç‚¹ -->
                    <g class="flow-node" data-step="manage-end" onclick="highlightNode(this)">
                        <ellipse cx="650" cy="675" rx="60" ry="30" class="start-end-ellipse node-rect"/>
                        <text x="650" y="675" class="flow-text">æ“ä½œå®Œæˆ</text>
                    </g>

                    <!-- è¿æ¥çº¿ -->
                    <path class="flow-arrow" d="M100 110 L100 150"/>
                    <path class="flow-arrow" d="M75 200 L75 250" stroke-dasharray="3,3"/>
                    <path class="flow-arrow" d="M100 200 L250 250" stroke-dasharray="3,3"/>
                    <path class="flow-arrow" d="M125 200 L400 250" stroke-dasharray="3,3"/>
                    <path class="flow-arrow" d="M250 300 L250 350"/>
                    <path class="flow-arrow" d="M400 300 L400 350"/>
                    <path class="flow-arrow" d="M225 375 L175 450"/>
                    <path class="flow-arrow" d="M450 375 L500 375"/>
                    <path class="flow-arrow" d="M400 400 L400 450"/>
                    <path class="flow-arrow" d="M400 500 L400 550"/>
                    <path class="flow-arrow" d="M450 575 L500 575"/>
                    <path class="flow-arrow" d="M400 600 L400 650"/>
                    <path class="flow-arrow" d="M450 675 L590 675"/>

                    <!-- æµç¨‹æ ‡ç­¾ -->
                    <text x="60" y="225" class="flow-label">æŸ¥çœ‹</text>
                    <text x="150" y="225" class="flow-label">ç¼–è¾‘</text>
                    <text x="275" y="225" class="flow-label">ç»ˆæ­¢</text>
                    <text x="175" y="415" class="flow-label">çŠ¶æ€é”™è¯¯</text>
                    <text x="275" y="415" class="flow-label">çŠ¶æ€æ­£ç¡®</text>
                    <text x="475" y="365" class="flow-label">å–æ¶ˆ</text>
                    <text x="375" y="415" class="flow-label">ç¡®è®¤</text>
                    <text x="475" y="565" class="flow-label">å¤±è´¥</text>
                    <text x="375" y="615" class="flow-label">æˆåŠŸ</text>
                </svg>

                <div class="flow-description">
                    <h3>âš™ï¸ æ´»åŠ¨ç®¡ç†æµç¨‹è¯´æ˜</h3>
                    <p>è¯¥æµç¨‹å±•ç¤ºäº†ç”¨æˆ·å¯¹æ´»åŠ¨è¿›è¡Œå„ç§ç®¡ç†æ“ä½œçš„å®Œæ•´è¿‡ç¨‹ï¼ŒåŒ…å«æŸ¥çœ‹ã€ç¼–è¾‘ã€ç»ˆæ­¢ç­‰æ“ä½œçš„å¤„ç†é€»è¾‘ã€‚</p>
                    <ol class="flow-steps">
                        <li><strong>é€‰æ‹©æ´»åŠ¨ï¼š</strong>ç”¨æˆ·åœ¨åˆ—è¡¨ä¸­é€‰æ‹©è¦æ“ä½œçš„æ´»åŠ¨</li>
                        <li><strong>æ“ä½œç±»å‹åˆ¤æ–­ï¼š</strong>æ ¹æ®ç”¨æˆ·ç‚¹å‡»çš„æŒ‰é’®ç¡®å®šæ“ä½œç±»å‹</li>
                        <li><strong>çŠ¶æ€æ£€æŸ¥ï¼š</strong>éªŒè¯æ´»åŠ¨å½“å‰çŠ¶æ€æ˜¯å¦å…è®¸è¯¥æ“ä½œ</li>
                        <li><strong>äºŒæ¬¡ç¡®è®¤ï¼š</strong>å¯¹äºå±é™©æ“ä½œï¼ˆå¦‚ç»ˆæ­¢ï¼‰è¿›è¡Œç¡®è®¤</li>
                        <li><strong>æ‰§è¡Œæ“ä½œï¼š</strong>è°ƒç”¨ç›¸åº”çš„APIæ‰§è¡Œå…·ä½“æ“ä½œ</li>
                        <li><strong>ç»“æœå¤„ç†ï¼š</strong>æ ¹æ®æ“ä½œç»“æœæ›´æ–°ç•Œé¢æˆ–æ˜¾ç¤ºé”™è¯¯</li>
                        <li><strong>ç•Œé¢æ›´æ–°ï¼š</strong>åˆ·æ–°ç›¸å…³æ•°æ®å’ŒçŠ¶æ€æ˜¾ç¤º</li>
                    </ol>
                </div>
            </div>

            <!-- æ‰¹é‡æ“ä½œæµç¨‹ -->
            <div class="flow-content" id="batch-flow">
                <svg class="flow-svg" viewBox="0 0 1200 600">
                    <!-- é€‰æ‹©å¤šä¸ªæ´»åŠ¨ -->
                    <g class="flow-node" data-step="select-multiple" onclick="highlightNode(this)">
                        <ellipse cx="100" cy="80" rx="60" ry="30" class="start-end-ellipse node-rect"/>
                        <text x="100" y="80" class="flow-text">é€‰æ‹©å¤šä¸ªæ´»åŠ¨</text>
                    </g>

                    <!-- é€‰æ‹©æ•°é‡æ£€æŸ¥ -->
                    <g class="flow-node" data-step="count-check" onclick="highlightNode(this)">
                        <polygon points="100,150 150,175 100,200 50,175" class="decision-diamond node-rect"/>
                        <text x="100" y="175" class="flow-text">æ•°é‡æ£€æŸ¥</text>
                    </g>

                    <!-- æ— é€‰æ‹©æç¤º -->
                    <g class="flow-node" data-step="no-selection" onclick="highlightNode(this)">
                        <rect x="200" y="150" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="250" y="175" class="flow-text">æ— é€‰æ‹©æç¤º</text>
                    </g>

                    <!-- æ‰¹é‡æ“ä½œç±»å‹ -->
                    <g class="flow-node" data-step="batch-type" onclick="highlightNode(this)">
                        <polygon points="100,250 150,275 100,300 50,275" class="decision-diamond node-rect"/>
                        <text x="100" y="275" class="flow-text">æ“ä½œç±»å‹</text>
                    </g>

                    <!-- æ‰¹é‡å¯¼å‡º -->
                    <g class="flow-node" data-step="batch-export" onclick="highlightNode(this)">
                        <rect x="50" y="350" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="100" y="375" class="flow-text">æ‰¹é‡å¯¼å‡º</text>
                    </g>

                    <!-- æ‰¹é‡ç»ˆæ­¢ -->
                    <g class="flow-node" data-step="batch-terminate" onclick="highlightNode(this)">
                        <rect x="200" y="350" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="250" y="375" class="flow-text">æ‰¹é‡ç»ˆæ­¢</text>
                    </g>

                    <!-- çŠ¶æ€éªŒè¯ -->
                    <g class="flow-node" data-step="batch-validate" onclick="highlightNode(this)">
                        <polygon points="250,450 300,475 250,500 200,475" class="decision-diamond node-rect"/>
                        <text x="250" y="475" class="flow-text">çŠ¶æ€éªŒè¯</text>
                    </g>

                    <!-- çŠ¶æ€å†²çª -->
                    <g class="flow-node" data-step="status-conflict" onclick="highlightNode(this)">
                        <rect x="350" y="450" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="400" y="475" class="flow-text">çŠ¶æ€å†²çªæç¤º</text>
                    </g>

                    <!-- æ‰¹é‡ç¡®è®¤å¼¹çª— -->
                    <g class="flow-node" data-step="batch-confirm" onclick="highlightNode(this)">
                        <polygon points="250,550 300,575 250,600 200,575" class="decision-diamond node-rect"/>
                        <text x="250" y="575" class="flow-text">æ‰¹é‡ç¡®è®¤</text>
                    </g>

                    <!-- å–æ¶ˆæ‰¹é‡æ“ä½œ -->
                    <g class="flow-node" data-step="cancel-batch" onclick="highlightNode(this)">
                        <rect x="350" y="550" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="400" y="575" class="flow-text">å–æ¶ˆæ“ä½œ</text>
                    </g>

                    <!-- æ‰§è¡Œæ‰¹é‡æ“ä½œ -->
                    <g class="flow-node" data-step="execute-batch" onclick="highlightNode(this)">
                        <rect x="500" y="475" width="100" height="50" rx="8" class="data-rect node-rect"/>
                        <text x="550" y="500" class="flow-text">æ‰§è¡Œæ‰¹é‡æ“ä½œ</text>
                    </g>

                    <!-- è¿›åº¦æ˜¾ç¤º -->
                    <g class="flow-node" data-step="show-progress" onclick="highlightNode(this)">
                        <rect x="650" y="475" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="700" y="500" class="flow-text">è¿›åº¦æ˜¾ç¤º</text>
                    </g>

                    <!-- æ“ä½œå®Œæˆ -->
                    <g class="flow-node" data-step="batch-complete" onclick="highlightNode(this)">
                        <rect x="800" y="475" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="850" y="500" class="flow-text">æ“ä½œå®Œæˆ</text>
                    </g>

                    <!-- ç»“æœç»Ÿè®¡ -->
                    <g class="flow-node" data-step="result-summary" onclick="highlightNode(this)">
                        <rect x="950" y="475" width="100" height="50" rx="8" class="process-rect node-rect"/>
                        <text x="1000" y="500" class="flow-text">ç»“æœç»Ÿè®¡</text>
                    </g>

                    <!-- ç»“æŸèŠ‚ç‚¹ -->
                    <g class="flow-node" data-step="batch-end" onclick="highlightNode(this)">
                        <ellipse cx="1100" cy="500" rx="60" ry="30" class="start-end-ellipse node-rect"/>
                        <text x="1100" y="500" class="flow-text">æ‰¹é‡å®Œæˆ</text>
                    </g>

                    <!-- è¿æ¥çº¿ -->
                    <path class="flow-arrow" d="M100 110 L100 150"/>
                    <path class="flow-arrow" d="M150 175 L200 175"/>
                    <path class="flow-arrow" d="M100 200 L100 250"/>
                    <path class="flow-arrow" d="M75 300 L75 350" stroke-dasharray="3,3"/>
                    <path class="flow-arrow" d="M125 300 L225 350" stroke-dasharray="3,3"/>
                    <path class="flow-arrow" d="M250 400 L250 450"/>
                    <path class="flow-arrow" d="M300 475 L350 475"/>
                    <path class="flow-arrow" d="M250 500 L250 550"/>
                    <path class="flow-arrow" d="M300 575 L350 575"/>
                    <path class="flow-arrow" d="M250 600 Q 375 625 550 525"/>
                    <path class="flow-arrow" d="M600 500 L650 500"/>
                    <path class="flow-arrow" d="M750 500 L800 500"/>
                    <path class="flow-arrow" d="M900 500 L950 500"/>
                    <path class="flow-arrow" d="M1050 500 L1040 500"/>
                    
                    <!-- å¯¼å‡ºè·¯å¾„ -->
                    <path class="flow-arrow" d="M100 400 Q 300 425 550 475" stroke-dasharray="3,3"/>

                    <!-- æµç¨‹æ ‡ç­¾ -->
                    <text x="175" y="165" class="flow-label">æ— é€‰æ‹©</text>
                    <text x="75" y="215" class="flow-label">æœ‰é€‰æ‹©</text>
                    <text x="60" y="325" class="flow-label">å¯¼å‡º</text>
                    <text x="160" y="325" class="flow-label">ç»ˆæ­¢</text>
                    <text x="325" y="465" class="flow-label">å†²çª</text>
                    <text x="225" y="515" class="flow-label">é€šè¿‡</text>
                    <text x="325" y="565" class="flow-label">å–æ¶ˆ</text>
                    <text x="225" y="615" class="flow-label">ç¡®è®¤</text>
                </svg>

                <div class="flow-description">
                    <h3>ğŸ“¦ æ‰¹é‡æ“ä½œæµç¨‹è¯´æ˜</h3>
                    <p>è¯¥æµç¨‹å±•ç¤ºäº†ç”¨æˆ·è¿›è¡Œæ‰¹é‡æ“ä½œçš„å®Œæ•´è¿‡ç¨‹ï¼ŒåŒ…å«é€‰æ‹©éªŒè¯ã€çŠ¶æ€æ£€æŸ¥ã€ç¡®è®¤æœºåˆ¶å’Œè¿›åº¦è·Ÿè¸ªç­‰åŠŸèƒ½ã€‚</p>
                    <ol class="flow-steps">
                        <li><strong>é€‰æ‹©å¤šä¸ªæ´»åŠ¨ï¼š</strong>ç”¨æˆ·é€šè¿‡å¤é€‰æ¡†é€‰æ‹©å¤šä¸ªæ´»åŠ¨</li>
                        <li><strong>æ•°é‡æ£€æŸ¥ï¼š</strong>éªŒè¯æ˜¯å¦æœ‰é€‰ä¸­çš„æ´»åŠ¨</li>
                        <li><strong>æ“ä½œç±»å‹åˆ¤æ–­ï¼š</strong>ç¡®å®šæ˜¯å¯¼å‡ºè¿˜æ˜¯ç»ˆæ­¢æ“ä½œ</li>
                        <li><strong>çŠ¶æ€éªŒè¯ï¼š</strong>æ£€æŸ¥æ‰€é€‰æ´»åŠ¨çŠ¶æ€æ˜¯å¦æ”¯æŒæ‰¹é‡æ“ä½œ</li>
                        <li><strong>æ‰¹é‡ç¡®è®¤ï¼š</strong>æ˜¾ç¤ºç¡®è®¤å¼¹çª—ï¼Œå‘ŠçŸ¥æ“ä½œå½±å“</li>
                        <li><strong>æ‰§è¡Œæ“ä½œï¼š</strong>æŒ‰æ‰¹æ¬¡æ‰§è¡Œæ“ä½œï¼Œæ˜¾ç¤ºè¿›åº¦</li>
                        <li><strong>ç»“æœç»Ÿè®¡ï¼š</strong>æ±‡æ€»æ“ä½œç»“æœï¼Œæ˜¾ç¤ºæˆåŠŸå¤±è´¥æ•°é‡</li>
                    </ol>
                </div>
            </div>

            <!-- å›¾ä¾‹è¯´æ˜ -->
            <div class="legend">
                <div class="legend-title">ğŸ¨ æµç¨‹å›¾å›¾ä¾‹</div>
                <div class="legend-items">
                    <div class="legend-item">
                        <div class="legend-shape start-end-ellipse"></div>
                        <span>å¼€å§‹/ç»“æŸèŠ‚ç‚¹</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-shape process-rect"></div>
                        <span>å¤„ç†è¿‡ç¨‹</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-shape decision-diamond" style="clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);"></div>
                        <span>åˆ¤æ–­å†³ç­–</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-shape data-rect"></div>
                        <span>æ•°æ®æ“ä½œ</span>
                    </div>
                    <div class="legend-item">
                        <div style="width: 30px; height: 2px; background: #6c757d; margin-right: 10px;"></div>
                        <span>æµç¨‹æ–¹å‘</span>
                    </div>
                    <div class="legend-item">
                        <div style="width: 30px; height: 2px; background: #6c757d; border-top: 2px dashed #6c757d; margin-right: 10px;"></div>
                        <span>æ¡ä»¶åˆ†æ”¯</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å·¥å…·æç¤º -->
    <div class="tooltip" id="tooltip"></div>

    <script>
        let currentFlow = 'create';
        let animationTimer = null;
        let currentStep = 0;

        // åˆ‡æ¢æµç¨‹å›¾
        function showFlow(flowType) {
            // æ›´æ–°æ ‡ç­¾çŠ¶æ€
            document.querySelectorAll('.flow-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // æ˜¾ç¤ºå¯¹åº”æµç¨‹
            document.querySelectorAll('.flow-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(flowType + '-flow').classList.add('active');

            currentFlow = flowType;
            resetFlow();
        }

        // é«˜äº®èŠ‚ç‚¹
        function highlightNode(node) {
            // é‡ç½®æ‰€æœ‰èŠ‚ç‚¹
            document.querySelectorAll('.flow-node').forEach(n => {
                n.classList.remove('active');
            });
            document.querySelectorAll('.flow-arrow').forEach(arrow => {
                arrow.classList.remove('active');
            });

            // é«˜äº®å½“å‰èŠ‚ç‚¹
            node.classList.add('active');

            // é«˜äº®ç›¸å…³è¿æ¥çº¿
            const step = node.getAttribute('data-step');
            highlightRelatedArrows(step);

            // æ˜¾ç¤ºå·¥å…·æç¤º
            showTooltip(node, step);
        }

        // é«˜äº®ç›¸å…³ç®­å¤´
        function highlightRelatedArrows(step) {
            document.querySelectorAll('.flow-arrow').forEach(arrow => {
                const from = arrow.getAttribute('data-from');
                const to = arrow.getAttribute('data-to');
                if (from === step || to === step) {
                    arrow.classList.add('active');
                }
            });
        }

        // æ˜¾ç¤ºå·¥å…·æç¤º
        function showTooltip(node, step) {
            const tooltip = document.getElementById('tooltip');
            const stepDescriptions = {
                'start': 'æµç¨‹å¼€å§‹ï¼šç”¨æˆ·å‘èµ·æ“ä½œ',
                'login': 'ç”¨æˆ·èº«ä»½éªŒè¯ï¼šç¡®ä¿ç”¨æˆ·å·²ç™»å½•',
                'permission': 'æƒé™æ£€æŸ¥ï¼šéªŒè¯ç”¨æˆ·æ“ä½œæƒé™',
                'no-permission': 'æƒé™ä¸è¶³ï¼šæ˜¾ç¤ºé”™è¯¯æç¤º',
                'open-modal': 'æ‰“å¼€å¼¹çª—ï¼šæ˜¾ç¤ºæ“ä½œç•Œé¢',
                'fill-form': 'å¡«å†™è¡¨å•ï¼šç”¨æˆ·è¾“å…¥æ•°æ®',
                'validate': 'æ•°æ®éªŒè¯ï¼šæ£€æŸ¥è¾“å…¥æœ‰æ•ˆæ€§',
                'validate-fail': 'éªŒè¯å¤±è´¥ï¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯',
                'submit': 'æäº¤æ•°æ®ï¼šå‘é€åˆ°åç«¯å¤„ç†',
                'api-call': 'APIè°ƒç”¨ï¼šåç«¯æ¥å£å¤„ç†',
                'save-result': 'ä¿å­˜ç»“æœï¼šæ•°æ®æŒä¹…åŒ–',
                'save-fail': 'ä¿å­˜å¤±è´¥ï¼šé”™è¯¯å¤„ç†',
                'success': 'æ“ä½œæˆåŠŸï¼šæ˜¾ç¤ºæˆåŠŸæç¤º',
                'refresh': 'åˆ·æ–°ç•Œé¢ï¼šæ›´æ–°æ•°æ®æ˜¾ç¤º',
                'end': 'æµç¨‹ç»“æŸï¼šæ“ä½œå®Œæˆ'
            };

            const rect = node.getBoundingClientRect();
            tooltip.textContent = stepDescriptions[step] || 'æµç¨‹èŠ‚ç‚¹';
            tooltip.style.left = rect.left + rect.width / 2 - tooltip.offsetWidth / 2 + 'px';
            tooltip.style.top = rect.top - 40 + 'px';
            tooltip.classList.add('show');

            // 3ç§’åéšè—
            setTimeout(() => {
                tooltip.classList.remove('show');
            }, 3000);
        }

        // æ¼”ç¤ºæµç¨‹åŠ¨ç”»
        function animateFlow() {
            resetFlow();
            
            const flowSteps = {
                'create': ['start', 'login', 'permission', 'open-modal', 'fill-form', 'validate', 'submit', 'api-call', 'save-result', 'success', 'refresh', 'end'],
                'query': ['query-start', 'input-conditions', 'condition-validate', 'build-params', 'send-request', 'check-cache', 'fetch-data', 'process-data', 'render-table', 'update-pagination', 'query-end'],
                'manage': ['select-activity', 'operation-type', 'edit-activity', 'status-check', 'confirm-dialog', 'execute-operation', 'operation-result', 'update-ui', 'manage-end'],
                'batch': ['select-multiple', 'count-check', 'batch-type', 'batch-terminate', 'batch-validate', 'batch-confirm', 'execute-batch', 'show-progress', 'batch-complete', 'result-summary', 'batch-end']
            };

            const steps = flowSteps[currentFlow] || [];
            currentStep = 0;

            animationTimer = setInterval(() => {
                if (currentStep < steps.length) {
                    const stepNode = document.querySelector(`[data-step="${steps[currentStep]}"]`);
                    if (stepNode) {
                        highlightNode(stepNode);
                    }
                    currentStep++;
                } else {
                    clearInterval(animationTimer);
                }
            }, 1500);
        }

        // é‡ç½®æµç¨‹çŠ¶æ€
        function resetFlow() {
            if (animationTimer) {
                clearInterval(animationTimer);
            }
            
            document.querySelectorAll('.flow-node').forEach(node => {
                node.classList.remove('active');
            });
            document.querySelectorAll('.flow-arrow').forEach(arrow => {
                arrow.classList.remove('active');
            });
            document.getElementById('tooltip').classList.remove('show');
        }

        // é«˜äº®å…³é”®è·¯å¾„
        function highlightCriticalPath() {
            resetFlow();
            
            const criticalPaths = {
                'create': ['start', 'login', 'permission', 'open-modal', 'fill-form', 'validate', 'submit', 'api-call', 'save-result', 'success'],
                'query': ['query-start', 'input-conditions', 'condition-validate', 'build-params', 'send-request', 'fetch-data', 'render-table'],
                'manage': ['select-activity', 'operation-type', 'status-check', 'confirm-dialog', 'execute-operation', 'update-ui'],
                'batch': ['select-multiple', 'count-check', 'batch-validate', 'batch-confirm', 'execute-batch', 'result-summary']
            };

            const path = criticalPaths[currentFlow] || [];
            path.forEach((step, index) => {
                setTimeout(() => {
                    const stepNode = document.querySelector(`[data-step="${step}"]`);
                    if (stepNode) {
                        highlightNode(stepNode);
                    }
                }, index * 800);
            });
        }

        // é¼ æ ‡ç§»å‡ºéšè—å·¥å…·æç¤º
        document.addEventListener('mousemove', (e) => {
            const tooltip = document.getElementById('tooltip');
            if (!e.target.closest('.flow-node')) {
                setTimeout(() => {
                    tooltip.classList.remove('show');
                }, 1000);
            }
        });

        // é”®ç›˜å¿«æ·é”®æ”¯æŒ
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case '1':
                    showFlow('create');
                    break;
                case '2':
                    showFlow('query');
                    break;
                case '3':
                    showFlow('manage');
                    break;
                case '4':
                    showFlow('batch');
                    break;
                case ' ':
                    e.preventDefault();
                    animateFlow();
                    break;
                case 'Escape':
                    resetFlow();
                    break;
            }
        });

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            console.log('å¾®ä¿¡æ´»åŠ¨ç®¡ç†ç³»ç»Ÿæµç¨‹å›¾å·²åŠ è½½');
        });
    </script>
</body>
</html>